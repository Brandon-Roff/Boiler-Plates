# Common security headers
add_header X-Content-Type-Options nosniff;
add_header X-Frame-Options SAMEORIGIN;
add_header X-XSS-Protection "1; mode=block";
add_header Referrer-Policy no-referrer-when-downgrade;
add_header Content-Security-Policy "default-src 'self'; img-src 'self' data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline';";

# Rate limiting example
limit_req_zone $binary_remote_addr zone=one:10m rate=30r/m;

server {
    listen 80;
    server_name secure.example.com;

    location / {
        limit_req zone=one burst=10 nodelay;
        proxy_pass http://app:8080;
    }
}
